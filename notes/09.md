# 09 服务器配置安装 MongoDB

## 9.1 [在 Ubuntu 14.04 上安装 MongoDB](http://coding.imooc.com/lesson/95.html#mid=3156)

aliyun 有收费的 MongoDB 数据库，但价格略高

[mongodb 官网安装指导](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/)

修改 mongodb 默认端口：`sudo vim /etc/mongod.conf` 修改port

注意更新防火墙的相应配置。

## 9.2 [往线上 MongoDB 导入单表数据或数据库](http://coding.imooc.com/lesson/95.html#mid=3157)

- 打包备份数据：`mongodump -h 127.0.0.1:27017 -d indust-app -o indust-app-backup`
- `tar zcvf indust-app.tar.gz indust-app-backup`
- `scp` 上传本地压缩包
- 解压
- 恢复数据库：`mongorestore`
- 导出单表：`mongoexport -d imooc-movie -c users -q '{"name": {$ne: null}}' -o ./movie-users.json`
- 导入单表：`mongoimport --host 127.0.0.1:19999 -d imooc-movie -c users ./movie-users.json`
- 删除数据库：`mongo --host 127.0.0.1:1999 imooc-movie --eval "db.dropDatabase()"`

## 9.3 [为上线项目配置 MongoDB 数据库读写权限]()
